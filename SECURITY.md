# Security Policy

## 1. 受到支持的版本

| Version | Supported          |
| ------- | ------------------ |
| 1.2.1   | :white_check_mark: |
| < 1.2.1 | :x:                |

---

## 2. 联系方式
如果您发现了安全问题或漏洞，请通过电子邮件联系仓库维护者：

**安全联系人**: coolerxde@gt.ac.cn

建议在邮件主题中写明：`[Security] RoricalTheme - <简短标题>`。

> 可选：若担心隐私或需要加密，请在邮件中声明并请求项目维护者提供 PGP 公钥进行加密通信（维护者若提供公钥请使用其加密后发送详细信息）。

---

## 2. 报告时请提供尽可能完整的信息
为加快处理与复现，请在首次报告中尽量包含下列信息：

1. **影响版本**（例如：`Rorical Theme v1.2`，或 commit/branch）  
2. **环境信息**：Typecho 版本、PHP 版本、MySQL 版本、浏览器/OS（如适用）  
3. **漏洞类别**（例如：XSS、SQL 注入、权限提升、信息泄露、CSRF、依赖漏洞 等）  
4. **复现步骤**（按步骤写出可复现漏洞的最小步骤）  
5. **PoC / 最小可运行示例**（如果可能，请给出代码片段或截图）  
6. **HTTP 请求/响应示例（如适用）**，包括必要的 headers、payload（敏感数据可截图或脱敏）  
7. **影响评估**（你认为漏洞对网站/用户的潜在影响：高/中/低）  
8. **修复建议**（如果你有可行建议或补丁 diff/patch，请一并附上）  

---

## 3. 披露策略
- 我们鼓励**负责任披露（Responsible Disclosure）**：请首先使用私密报告渠道（见第2节）。  
- 请不要在未经修复前公开 PoC 或漏洞细节，除非与维护者达成一致。  
- 对于提交的漏洞报告，维护者将确认收到并在后续沟通中说明下一步计划。维护者会在修复后（或在协调下）发布安全公告或安全修复版本信息。

---

## 4. 受支持的版本与范围
- 本仓库当前对 **Typecho 1.2.1** 及其兼容环境进行适配与维护。  
- 建议生产环境使用 **PHP ≥ 7.2**（推荐 PHP 8.x），并确保数据库（MySQL/MariaDB）为受支持版本。  
- 本策略覆盖主题本身的代码库（PHP、JS、模板）；第三方插件的漏洞应分别向插件维护者报告（但可在必要时由本仓库维护者协助联络）。

---

## 5. 快速缓解建议（供维护者/管理员临时采纳）
如果收到关于可被利用的漏洞报告且暂时无法立即修复，建议采取如下临时缓解措施：
- 在 Typecho 后台暂时关闭相关功能（例如：评论功能、未信任用户输入的 AJAX 端点等）。  
- 对评论输出与用户提交的 HTML 进行严格转义/白名单过滤（用 Typecho 提供的转义函数）。  
- 禁用或移除未信任的第三方插件（例如旧版 ViewsCounter），使用内置或受信赖的替代实现。  
- 切断对不受信任远程资源的自动加载（如外部脚本、字体或未验证的 CDN 资源）。

---

## 6. 维护者声明
仓库维护者致力于尽快审查并修复合理可复现的安全报告。我们鼓励所有贡献者与安全研究人员通过上述邮箱进行私密沟通。  
若您需要通过其他私有渠道（例如：GPG/PGP 加密或直接电话），请在邮件中说明您的偏好。

## 7. 法律与行为准则
请在报告时遵守适用法律并遵循负责任的安全研究行为准则。不要利用漏洞以获取未授权访问、破坏数据或以任何方式危害用户隐私与系统完整性。
